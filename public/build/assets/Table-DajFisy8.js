var Ee=t=>{throw TypeError(t)};var le=(t,e,s)=>e.has(t)||Ee("Cannot "+s);var a=(t,e,s)=>(le(t,e,"read from private field"),s?s.call(t):e.get(t)),v=(t,e,s)=>e.has(t)?Ee("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),m=(t,e,s,n)=>(le(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),g=(t,e,s)=>(le(t,e,"access private method"),s);import{S as ke,d as F,s as oe,e as te,n as Ye,i as De,f as Me,t as et,g as tt,h as st,k as Pe,l as Z,m as rt,r as j,o as $,U as A,u as z,j as r,c as nt}from"./app-C9fvb7FU.js";import{_ as Oe}from"./index-C4hK2_JJ.js";var R,f,J,S,L,B,P,X,G,H,T,U,_,K,b,V,ce,ue,he,de,fe,me,pe,Ae,Ue,Ce=(Ue=class extends ke{constructor(e,s){super();v(this,b);v(this,R);v(this,f);v(this,J);v(this,S);v(this,L);v(this,B);v(this,P);v(this,X);v(this,G);v(this,H);v(this,T);v(this,U);v(this,_);v(this,K,new Set);this.options=s,m(this,R,e),m(this,P,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,f).addObserver(this),Fe(a(this,f),this.options)?g(this,b,V).call(this):this.updateResult(),g(this,b,de).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return be(a(this,f),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return be(a(this,f),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,g(this,b,fe).call(this),g(this,b,me).call(this),a(this,f).removeObserver(this)}setOptions(e,s){const n=this.options,l=a(this,f);if(this.options=a(this,R).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof F(this.options.enabled,a(this,f))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");g(this,b,pe).call(this),a(this,f).setOptions(this.options),n._defaulted&&!oe(this.options,n)&&a(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,f),observer:this});const o=this.hasListeners();o&&Ie(a(this,f),l,this.options,n)&&g(this,b,V).call(this),this.updateResult(s),o&&(a(this,f)!==l||F(this.options.enabled,a(this,f))!==F(n.enabled,a(this,f))||te(this.options.staleTime,a(this,f))!==te(n.staleTime,a(this,f)))&&g(this,b,ce).call(this);const i=g(this,b,ue).call(this);o&&(a(this,f)!==l||F(this.options.enabled,a(this,f))!==F(n.enabled,a(this,f))||i!==a(this,_))&&g(this,b,he).call(this,i)}getOptimisticResult(e){const s=a(this,R).getQueryCache().build(a(this,R),e),n=this.createResult(s,e);return it(this,n)&&(m(this,S,n),m(this,B,this.options),m(this,L,a(this,f).state)),n}getCurrentResult(){return a(this,S)}trackResult(e,s){const n={};return Object.keys(e).forEach(l=>{Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),s==null||s(l),e[l])})}),n}trackProp(e){a(this,K).add(e)}getCurrentQuery(){return a(this,f)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=a(this,R).defaultQueryOptions(e),n=a(this,R).getQueryCache().build(a(this,R),s);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,s))}fetch(e){return g(this,b,V).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,S)))}createResult(e,s){var Qe;const n=a(this,f),l=this.options,o=a(this,S),i=a(this,L),u=a(this,B),d=e!==n?e.state:a(this,J),{state:h}=e;let c={...h},N=!1,O;if(s._optimisticResults){const D=this.hasListeners(),ie=!D&&Fe(e,s),Xe=D&&Ie(e,n,s,l);(ie||Xe)&&(c={...c,...st(h.data,e.options)}),s._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:y,errorUpdatedAt:w,status:C}=c;if(s.select&&c.data!==void 0)if(o&&c.data===(i==null?void 0:i.data)&&s.select===a(this,X))O=a(this,G);else try{m(this,X,s.select),O=s.select(c.data),O=Pe(o==null?void 0:o.data,O,s),m(this,G,O),m(this,P,null)}catch(D){m(this,P,D)}else O=c.data;if(s.placeholderData!==void 0&&O===void 0&&C==="pending"){let D;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(u==null?void 0:u.placeholderData))D=o.data;else if(D=typeof s.placeholderData=="function"?s.placeholderData((Qe=a(this,H))==null?void 0:Qe.state.data,a(this,H)):s.placeholderData,s.select&&D!==void 0)try{D=s.select(D),m(this,P,null)}catch(ie){m(this,P,ie)}D!==void 0&&(C="success",O=Pe(o==null?void 0:o.data,D,s),N=!0)}a(this,P)&&(y=a(this,P),O=a(this,G),w=Date.now(),C="error");const x=c.fetchStatus==="fetching",I=C==="pending",ae=C==="error",Se=I&&x,Re=O!==void 0;return{status:C,fetchStatus:c.fetchStatus,isPending:I,isSuccess:C==="success",isError:ae,isInitialLoading:Se,isLoading:Se,data:O,dataUpdatedAt:c.dataUpdatedAt,error:y,errorUpdatedAt:w,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>d.dataUpdateCount||c.errorUpdateCount>d.errorUpdateCount,isFetching:x,isRefetching:x&&!I,isLoadingError:ae&&!Re,isPaused:c.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:ae&&Re,isStale:Ne(e,s),refetch:this.refetch}}updateResult(e){const s=a(this,S),n=this.createResult(a(this,f),this.options);if(m(this,L,a(this,f).state),m(this,B,this.options),a(this,L).data!==void 0&&m(this,H,a(this,f)),oe(n,s))return;m(this,S,n);const l={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,u=typeof i=="function"?i():i;if(u==="all"||!u&&!a(this,K).size)return!0;const p=new Set(u??a(this,K));return this.options.throwOnError&&p.add("error"),Object.keys(a(this,S)).some(d=>{const h=d;return a(this,S)[h]!==s[h]&&p.has(h)})};(e==null?void 0:e.listeners)!==!1&&o()&&(l.listeners=!0),g(this,b,Ae).call(this,{...l,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&g(this,b,de).call(this)}},R=new WeakMap,f=new WeakMap,J=new WeakMap,S=new WeakMap,L=new WeakMap,B=new WeakMap,P=new WeakMap,X=new WeakMap,G=new WeakMap,H=new WeakMap,T=new WeakMap,U=new WeakMap,_=new WeakMap,K=new WeakMap,b=new WeakSet,V=function(e){g(this,b,pe).call(this);let s=a(this,f).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Ye)),s},ce=function(){g(this,b,fe).call(this);const e=te(this.options.staleTime,a(this,f));if(De||a(this,S).isStale||!Me(e))return;const n=et(a(this,S).dataUpdatedAt,e)+1;m(this,T,setTimeout(()=>{a(this,S).isStale||this.updateResult()},n))},ue=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,f)):this.options.refetchInterval)??!1},he=function(e){g(this,b,me).call(this),m(this,_,e),!(De||F(this.options.enabled,a(this,f))===!1||!Me(a(this,_))||a(this,_)===0)&&m(this,U,setInterval(()=>{(this.options.refetchIntervalInBackground||tt.isFocused())&&g(this,b,V).call(this)},a(this,_)))},de=function(){g(this,b,ce).call(this),g(this,b,he).call(this,g(this,b,ue).call(this))},fe=function(){a(this,T)&&(clearTimeout(a(this,T)),m(this,T,void 0))},me=function(){a(this,U)&&(clearInterval(a(this,U)),m(this,U,void 0))},pe=function(){const e=a(this,R).getQueryCache().build(a(this,R),this.options);if(e===a(this,f))return;const s=a(this,f);m(this,f,e),m(this,J,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ae=function(e){Z.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(a(this,S))}),a(this,R).getQueryCache().notify({query:a(this,f),type:"observerResultsUpdated"})})},Ue);function at(t,e){return F(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Fe(t,e){return at(t,e)||t.state.data!==void 0&&be(t,e,e.refetchOnMount)}function be(t,e,s){if(F(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&Ne(t,e)}return!1}function Ie(t,e,s,n){return(t!==e||F(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Ne(t,s)}function Ne(t,e){return F(e.enabled,t)!==!1&&t.isStaleByTime(te(e.staleTime,t))}function it(t,e){return!oe(t.getCurrentResult(),e)}function _e(t,e){return t.filter(s=>!e.includes(s))}function lt(t,e,s){const n=t.slice(0);return n[e]=s,n}var q,M,W,Q,k,Y,ee,E,ze,xe,ge,ye,qe,ot=(qe=class extends ke{constructor(e,s,n){super();v(this,E);v(this,q);v(this,M);v(this,W);v(this,Q);v(this,k);v(this,Y);v(this,ee);m(this,q,e),m(this,W,[]),m(this,Q,[]),m(this,M,[]),this.setQueries(s)}onSubscribe(){this.listeners.size===1&&a(this,Q).forEach(e=>{e.subscribe(s=>{g(this,E,ge).call(this,e,s)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,a(this,Q).forEach(e=>{e.destroy()})}setQueries(e,s,n){m(this,W,e),Z.batch(()=>{const l=a(this,Q),o=g(this,E,xe).call(this,a(this,W));o.forEach(d=>d.observer.setOptions(d.defaultedQueryOptions,n));const i=o.map(d=>d.observer),u=i.map(d=>d.getCurrentResult()),p=i.some((d,h)=>d!==l[h]);l.length===i.length&&!p||(m(this,Q,i),m(this,M,u),this.hasListeners()&&(_e(l,i).forEach(d=>{d.destroy()}),_e(i,l).forEach(d=>{d.subscribe(h=>{g(this,E,ge).call(this,d,h)})}),g(this,E,ye).call(this)))})}getCurrentResult(){return a(this,M)}getQueries(){return a(this,Q).map(e=>e.getCurrentQuery())}getObservers(){return a(this,Q)}getOptimisticResult(e,s){const n=g(this,E,xe).call(this,e),l=n.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[l,o=>g(this,E,ze).call(this,o??l,s),()=>n.map((o,i)=>{const u=l[i];return o.defaultedQueryOptions.notifyOnChangeProps?u:o.observer.trackResult(u,p=>{n.forEach(d=>{d.observer.trackProp(p)})})})]}},q=new WeakMap,M=new WeakMap,W=new WeakMap,Q=new WeakMap,k=new WeakMap,Y=new WeakMap,ee=new WeakMap,E=new WeakSet,ze=function(e,s){return s?((!a(this,k)||a(this,M)!==a(this,ee)||s!==a(this,Y))&&(m(this,Y,s),m(this,ee,a(this,M)),m(this,k,rt(a(this,k),s(e)))),a(this,k)):e},xe=function(e){const s=a(this,Q),n=new Map(s.map(c=>[c.options.queryHash,c])),l=e.map(c=>a(this,q).defaultQueryOptions(c)),o=l.flatMap(c=>{const N=n.get(c.queryHash);return N!=null?[{defaultedQueryOptions:c,observer:N}]:[]}),i=new Set(o.map(c=>c.defaultedQueryOptions.queryHash)),u=l.filter(c=>!i.has(c.queryHash)),p=c=>{const N=a(this,q).defaultQueryOptions(c);return a(this,Q).find(y=>y.options.queryHash===N.queryHash)??new Ce(a(this,q),N)},d=u.map(c=>({defaultedQueryOptions:c,observer:p(c)})),h=(c,N)=>l.indexOf(c.defaultedQueryOptions)-l.indexOf(N.defaultedQueryOptions);return o.concat(d).sort(h)},ge=function(e,s){const n=a(this,Q).indexOf(e);n!==-1&&(m(this,M,lt(a(this,M),n,s)),g(this,E,ye).call(this))},ye=function(){Z.batch(()=>{this.listeners.forEach(e=>{e(a(this,M))})})},qe),Be=j.createContext(!1),Ge=()=>j.useContext(Be);Be.Provider;function ct(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ut=j.createContext(ct()),He=()=>j.useContext(ut);function ht(t,e){return typeof t=="function"?t(...e):!!t}var Ke=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},We=t=>{j.useEffect(()=>{t.clearReset()},[t])},$e=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&ht(s,[t.error,n]),Ve=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},dt=(t,e)=>t.isLoading&&t.isFetching&&!e,ve=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,je=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Ft({queries:t,...e},s){const n=$(),l=Ge(),o=He(),i=j.useMemo(()=>t.map(y=>{const w=n.defaultQueryOptions(y);return w._optimisticResults=l?"isRestoring":"optimistic",w}),[t,n,l]);i.forEach(y=>{Ve(y),Ke(y,o)}),We(o);const[u]=j.useState(()=>new ot(n,i,e)),[p,d,h]=u.getOptimisticResult(i,e.combine);j.useSyncExternalStore(j.useCallback(y=>l?()=>{}:u.subscribe(Z.batchCalls(y)),[u,l]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setQueries(i,e,{listeners:!1})},[i,e,u]);const N=p.some((y,w)=>ve(i[w],y))?p.flatMap((y,w)=>{const C=i[w];if(C){const x=new Ce(n,C);if(ve(C,y))return je(C,x,o);dt(y,l)&&je(C,x,o)}return[]}):[];if(N.length>0)throw Promise.all(N);const O=p.find((y,w)=>{const C=i[w];return C&&$e({result:y,errorResetBoundary:o,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash)})});if(O!=null&&O.error)throw O.error;return d(h())}function ft(t,e,s){var d,h,c,N;const n=$(),l=Ge(),o=He(),i=n.defaultQueryOptions(t);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,i),i._optimisticResults=l?"isRestoring":"optimistic",Ve(i),Ke(i,o),We(o);const[u]=j.useState(()=>new e(n,i)),p=u.getOptimisticResult(i);if(j.useSyncExternalStore(j.useCallback(O=>{const y=l?()=>{}:u.subscribe(Z.batchCalls(O));return u.updateResult(),y},[u,l]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(i,{listeners:!1})},[i,u]),ve(i,p))throw je(i,u,o);if($e({result:p,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw p.error;return(N=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_afterQuery)==null||N.call(c,i,p),i.notifyOnChangeProps?p:u.trackResult(p)}function mt(t,e){return ft(t,Ce)}var Ze={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Le=A.createContext&&A.createContext(Ze),pt=["attr","size","title"];function bt(t,e){if(t==null)return{};var s=xt(t,e),n,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(l=0;l<o.length;l++)n=o[l],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function xt(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},se.apply(this,arguments)}function Te(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,n)}return s}function re(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Te(Object(s),!0).forEach(function(n){gt(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Te(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function gt(t,e,s){return e=yt(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function yt(t){var e=vt(t,"string");return typeof e=="symbol"?e:e+""}function vt(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Je(t){return t&&t.map((e,s)=>A.createElement(e.tag,re({key:s},e.attr),Je(e.child)))}function jt(t){return e=>A.createElement(Ot,se({attr:re({},t.attr)},e),Je(t.child))}function Ot(t){var e=s=>{var{attr:n,size:l,title:o}=t,i=bt(t,pt),u=l||s.size||"1em",p;return s.className&&(p=s.className),t.className&&(p=(p?p+" ":"")+t.className),A.createElement("svg",se({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,i,{className:p,style:re(re({color:t.color||s.color},s.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&A.createElement("title",null,o),t.children)};return Le!==void 0?A.createElement(Le.Consumer,null,s=>e(s)):e(Ze)}function ne(t){return jt({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}const we=({children:t})=>{const{mainModal:e,setMainModal:s}=z();return r.jsxs("dialog",{className:`modal ${e?"modal-open":""}`,children:[r.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),r.jsx("form",{method:"dialog",className:"modal-backdrop",children:r.jsx("button",{onClick:()=>s(!1),children:"close"})})]})},Ct=()=>{const{setMainModal:t}=z(),e=$(),[s,n]=j.useState(""),[l,o]=j.useState(""),[i,u]=j.useState(""),[p,d]=j.useState(""),[h,c]=j.useState(""),[N,O]=j.useState(""),y=e.getQueryData(["fetchDatagrades"]),w=e.getQueryData(["fetchDatasections"]),C=async x=>{x.preventDefault();try{const{data:I}=await axios.post("/api/students",{studentFirstName:s,studentLastName:l,studentEmailName:i,studentPasswordName:p,gradeId:h,sectionId:N});I&&(n(""),o(""),u(""),d(""),c(""),O(""),e.invalidateQueries({queryKey:["fetchDatastudents"]}),t(!1)),Oe.success(I.message)}catch(I){console.error(I)}};return r.jsxs(we,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Student"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:C,children:[r.jsx("input",{name:"studentFirstName",type:"text",placeholder:"First Name",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:x=>n(x.target.value)}),r.jsx("input",{name:"studentLastName",type:"text",placeholder:"Last Name",className:"input input-bordered w-full bg-transparent my-1",value:l,onChange:x=>o(x.target.value)}),r.jsx("input",{name:"studentEmailName",type:"text",placeholder:"Email",className:"input input-bordered w-full bg-transparent my-1",value:i,onChange:x=>u(x.target.value)}),r.jsx("input",{name:"studentPasswordName",type:"password",placeholder:"Password",className:"input input-bordered w-full bg-transparent my-1",value:p,onChange:x=>d(x.target.value)}),r.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:x=>c(x.target.value),children:[r.jsx("option",{value:"",children:"--Grade--"}),y==null?void 0:y.map(x=>r.jsx("option",{value:x.id,children:x.level},x.level))]}),r.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:x=>O(x.target.value),children:[r.jsx("option",{value:"",children:"--Section--"}),w==null?void 0:w.map(x=>r.jsx("option",{value:x.id,children:x.name},x.name))]}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Nt=()=>{const{setMainModal:t}=z(),e=$(),[s,n]=j.useState(""),l=async o=>{o.preventDefault();try{const{data:i}=await axios.post("/api/sections",{sectionName:s});i&&(n(""),e.invalidateQueries({queryKey:["fetchDatasections"]}),t(!1)),Oe.success(i.message)}catch(i){console.error(i)}};return r.jsxs(we,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Section"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:l,children:[r.jsx("input",{name:"setSectionName",type:"text",placeholder:"Section Name",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:o=>n(o.target.value)}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},wt=()=>{const{setMainModal:t}=z(),e=$(),[s,n]=j.useState(""),l=async o=>{o.preventDefault();try{const{data:i}=await axios.post("/api/grades",{gradeId:s});i&&(n(""),e.invalidateQueries({queryKey:["fetchDatagrades"]}),t(!1)),Oe.success(i.message)}catch(i){console.error(i)}};return r.jsxs(we,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Grade"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:l,children:[r.jsx("input",{name:"setGradeId",type:"text",placeholder:"Grade",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:o=>n(o.target.value)}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},St=({children:t})=>{const{contentModal:e,setContentModal:s}=z();return r.jsxs("dialog",{className:`modal ${e?"modal-open":""}`,children:[r.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),r.jsx("form",{method:"dialog",className:"modal-backdrop",children:r.jsx("button",{onClick:()=>s(!1),children:"close"})})]})},Rt=({model:t,id:e})=>{const{setContentModal:s}=z(),n=async()=>{try{const{data:i}=await nt.get("/api/"+t+"/"+e);return console.log(i),i}catch{}},{data:l,isLoading:o}=mt({queryKey:["fetchSingleData"+t+e],queryFn:n,enabled:!!(t&&e)});return r.jsx(St,{children:o?r.jsx(r.Fragment,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"font-bold text-2xl",children:"Details:"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>s(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),t=="students"?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.first_name+" "+l.last_name]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Email:"})," ",l.email]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Grade:"})," ",l.grade.level]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Section:"})," ",l.section.name]})]}):null,t=="grades"?r.jsx(r.Fragment,{children:r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.level]})}):null,t=="sections"?r.jsx(r.Fragment,{children:r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.name]})}):null]})})},Qt=()=>{const{selectedMenu:t,setMainModal:e,setContentModal:s}=z(),n=$(),l=n.getQueryData(["fetchDatastudents"]),o=n.getQueryData(["fetchDatagrades"]),i=n.getQueryData(["fetchDatasections"]),u=n.getQueryData(["fetchDataQuiz1"]),[p,d]=j.useState(null);return r.jsxs("div",{className:"overflow-x-auto",children:[t=="students"?r.jsx(Ct,{}):null,t=="grades"?r.jsx(wt,{}):null,t=="sections"?r.jsx(Nt,{}):null,p?r.jsx(Rt,{model:t,id:p}):null,r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"btn btn-sm btn-primary text-white",onClick:()=>{e(!0)},children:"Add"})}),r.jsxs("table",{className:"table table-xs",children:[r.jsxs("thead",{children:[t=="students"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Grade"}),r.jsx("th",{children:"Section"}),r.jsx("th",{})]}):null,t=="grades"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Level"}),r.jsx("th",{})]}):null,t=="sections"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Name"}),r.jsx("th",{})]}):null,t=="quiz 1"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Score"})]}):null]}),r.jsxs("tbody",{children:[t=="students"?r.jsx(r.Fragment,{children:l.map((h,c)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:c+1}),r.jsx("td",{children:h.first_name+" "+h.last_name}),r.jsxs("td",{children:[" ",h.email]}),r.jsxs("td",{children:[" ",h.grade.level]}),r.jsxs("td",{children:[" ",h.section.name]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(h.id),s(!0)},children:"view"})})]},h.id))}):null,t=="grades"?r.jsx(r.Fragment,{children:o.map((h,c)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:c+1}),r.jsxs("td",{children:[" ",h.level]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(h.id),s(!0)},children:"view"})})]},h.id))}):null,t=="sections"?r.jsx(r.Fragment,{children:i.map((h,c)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:c+1}),r.jsxs("td",{children:[" ",h.name]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(h.id),s(!0)},children:"view"})})]},h.id))}):null,t=="quiz 1"?r.jsx(r.Fragment,{children:u.scores.map((h,c)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:c+1}),r.jsx("td",{children:h.student.first_name+" "+h.student.last_name}),r.jsx("td",{children:h.score})]},h.id))}):null]})]})]})},It=Qt;export{It as T,Ft as u};
