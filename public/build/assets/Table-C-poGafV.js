var $=t=>{throw TypeError(t)};var z=(t,s,n)=>s.has(t)||$("Cannot "+n);var h=(t,s,n)=>(z(t,s,"read from private field"),n?n.call(t):s.get(t)),w=(t,s,n)=>s.has(t)?$("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),v=(t,s,n,r)=>(z(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),S=(t,s,n)=>(z(t,s,"access private method"),n);import{S as ne,n as G,d as re,e as _,r as b,U as M,u as P,j as e,_ as K,c as ae}from"./app-DtDMgu8o.js";import{Q as Y,u as ie,a as le,e as ce,b as oe,c as ue,s as U,f as W,w as de,g as he,d as me}from"./Sidebar-DH7zAeLu.js";function Z(t,s){return t.filter(n=>!s.includes(n))}function fe(t,s,n){const r=t.slice(0);return r[s]=n,r}var Q,O,D,p,E,R,q,j,ee,H,A,B,X,xe=(X=class extends ne{constructor(s,n,r){super();w(this,j);w(this,Q);w(this,O);w(this,D);w(this,p);w(this,E);w(this,R);w(this,q);v(this,Q,s),v(this,D,[]),v(this,p,[]),v(this,O,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&h(this,p).forEach(s=>{s.subscribe(n=>{S(this,j,A).call(this,s,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,h(this,p).forEach(s=>{s.destroy()})}setQueries(s,n,r){v(this,D,s),G.batch(()=>{const a=h(this,p),l=S(this,j,H).call(this,h(this,D));l.forEach(o=>o.observer.setOptions(o.defaultedQueryOptions,r));const c=l.map(o=>o.observer),d=c.map(o=>o.getCurrentResult()),m=c.some((o,g)=>o!==a[g]);a.length===c.length&&!m||(v(this,p,c),v(this,O,d),this.hasListeners()&&(Z(a,c).forEach(o=>{o.destroy()}),Z(c,a).forEach(o=>{o.subscribe(g=>{S(this,j,A).call(this,o,g)})}),S(this,j,B).call(this)))})}getCurrentResult(){return h(this,O)}getQueries(){return h(this,p).map(s=>s.getCurrentQuery())}getObservers(){return h(this,p)}getOptimisticResult(s,n){const r=S(this,j,H).call(this,s),a=r.map(l=>l.observer.getOptimisticResult(l.defaultedQueryOptions));return[a,l=>S(this,j,ee).call(this,l??a,n),()=>r.map((l,c)=>{const d=a[c];return l.defaultedQueryOptions.notifyOnChangeProps?d:l.observer.trackResult(d,m=>{r.forEach(o=>{o.observer.trackProp(m)})})})]}},Q=new WeakMap,O=new WeakMap,D=new WeakMap,p=new WeakMap,E=new WeakMap,R=new WeakMap,q=new WeakMap,j=new WeakSet,ee=function(s,n){return n?((!h(this,E)||h(this,O)!==h(this,q)||n!==h(this,R))&&(v(this,R,n),v(this,q,h(this,O)),v(this,E,re(h(this,E),n(s)))),h(this,E)):s},H=function(s){const n=h(this,p),r=new Map(n.map(i=>[i.options.queryHash,i])),a=s.map(i=>h(this,Q).defaultQueryOptions(i)),l=a.flatMap(i=>{const f=r.get(i.queryHash);return f!=null?[{defaultedQueryOptions:i,observer:f}]:[]}),c=new Set(l.map(i=>i.defaultedQueryOptions.queryHash)),d=a.filter(i=>!c.has(i.queryHash)),m=i=>{const f=h(this,Q).defaultQueryOptions(i);return h(this,p).find(x=>x.options.queryHash===f.queryHash)??new Y(h(this,Q),f)},o=d.map(i=>({defaultedQueryOptions:i,observer:m(i)})),g=(i,f)=>a.indexOf(i.defaultedQueryOptions)-a.indexOf(f.defaultedQueryOptions);return l.concat(o).sort(g)},A=function(s,n){const r=h(this,p).indexOf(s);r!==-1&&(v(this,O,fe(h(this,O),r,n)),S(this,j,B).call(this))},B=function(){G.batch(()=>{this.listeners.forEach(s=>{s(h(this,O))})})},X);function qe({queries:t,...s},n){const r=_(),a=ie(),l=le(),c=b.useMemo(()=>t.map(x=>{const y=r.defaultQueryOptions(x);return y._optimisticResults=a?"isRestoring":"optimistic",y}),[t,r,a]);c.forEach(x=>{ce(x),oe(x,l)}),ue(l);const[d]=b.useState(()=>new xe(r,c,s)),[m,o,g]=d.getOptimisticResult(c,s.combine);b.useSyncExternalStore(b.useCallback(x=>a?()=>{}:d.subscribe(G.batchCalls(x)),[d,a]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),b.useEffect(()=>{d.setQueries(c,s,{listeners:!1})},[c,s,d]);const f=m.some((x,y)=>U(c[y],x))?m.flatMap((x,y)=>{const N=c[y];if(N){const u=new Y(r,N);if(U(N,x))return W(N,u,l);de(x,a)&&W(N,u,l)}return[]}):[];if(f.length>0)throw Promise.all(f);const C=m.find((x,y)=>{const N=c[y];return N&&he({result:x,errorResetBoundary:l,throwOnError:N.throwOnError,query:r.getQueryCache().get(N.queryHash)})});if(C!=null&&C.error)throw C.error;return o(g())}var te={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},J=M.createContext&&M.createContext(te),be=["attr","size","title"];function pe(t,s){if(t==null)return{};var n=je(t,s),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function je(t,s){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I(){return I=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function V(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function L(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?V(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ge(t,s,n){return s=ye(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function ye(t){var s=ve(t,"string");return typeof s=="symbol"?s:s+""}function ve(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,s||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function se(t){return t&&t.map((s,n)=>M.createElement(s.tag,L({key:n},s.attr),se(s.child)))}function Ne(t){return s=>M.createElement(Oe,I({attr:L({},t.attr)},s),se(t.child))}function Oe(t){var s=n=>{var{attr:r,size:a,title:l}=t,c=pe(t,be),d=a||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),M.createElement("svg",I({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:m,style:L(L({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&M.createElement("title",null,l),t.children)};return J!==void 0?M.createElement(J.Consumer,null,n=>s(n)):s(te)}function k(t){return Ne({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}const T=({children:t})=>{const{mainModal:s,setMainModal:n}=P();return e.jsxs("dialog",{className:`modal ${s?"modal-open":""}`,children:[e.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{onClick:()=>n(!1),children:"close"})})]})},we=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=b.useState(""),[a,l]=b.useState(""),[c,d]=b.useState(""),[m,o]=b.useState(""),[g,i]=b.useState(""),[f,C]=b.useState(""),x=s.getQueryData(["fetchDatagrades"]),y=s.getQueryData(["fetchDatasections"]),N=async u=>{u.preventDefault();try{const{data:F}=await axios.post("/api/students",{studentFirstName:n,studentLastName:a,studentEmailName:c,studentPasswordName:m,gradeId:g,sectionId:f});F&&(r(""),l(""),d(""),o(""),i(""),C(""),s.invalidateQueries({queryKey:["fetchDatastudents"]}),t(!1)),K.success(F.message)}catch(F){console.error(F)}};return e.jsxs(T,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Student"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(k,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:N,children:[e.jsx("input",{name:"studentFirstName",type:"text",placeholder:"First Name",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:u=>r(u.target.value)}),e.jsx("input",{name:"studentLastName",type:"text",placeholder:"Last Name",className:"input input-bordered w-full bg-transparent my-1",value:a,onChange:u=>l(u.target.value)}),e.jsx("input",{name:"studentEmailName",type:"text",placeholder:"Email",className:"input input-bordered w-full bg-transparent my-1",value:c,onChange:u=>d(u.target.value)}),e.jsx("input",{name:"studentPasswordName",type:"password",placeholder:"Password",className:"input input-bordered w-full bg-transparent my-1",value:m,onChange:u=>o(u.target.value)}),e.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:u=>i(u.target.value),children:[e.jsx("option",{value:"",children:"--Grade--"}),x==null?void 0:x.map(u=>e.jsx("option",{value:u.id,children:u.level},u.level))]}),e.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:u=>C(u.target.value),children:[e.jsx("option",{value:"",children:"--Section--"}),y==null?void 0:y.map(u=>e.jsx("option",{value:u.id,children:u.name},u.name))]}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Ce=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=b.useState(""),a=async l=>{l.preventDefault();try{const{data:c}=await axios.post("/api/sections",{sectionName:n});c&&(r(""),s.invalidateQueries({queryKey:["fetchDatasections"]}),t(!1)),K.success(c.message)}catch(c){console.error(c)}};return e.jsxs(T,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Section"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(k,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:a,children:[e.jsx("input",{name:"setSectionName",type:"text",placeholder:"Section Name",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:l=>r(l.target.value)}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Se=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=b.useState(""),a=async l=>{l.preventDefault();try{const{data:c}=await axios.post("/api/grades",{gradeId:n});c&&(r(""),s.invalidateQueries({queryKey:["fetchDatagrades"]}),t(!1)),K.success(c.message)}catch(c){console.error(c)}};return e.jsxs(T,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Grade"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(k,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:a,children:[e.jsx("input",{name:"setGradeId",type:"text",placeholder:"Grade",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:l=>r(l.target.value)}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Qe=({children:t})=>{const{contentModal:s,setContentModal:n}=P();return e.jsxs("dialog",{className:`modal ${s?"modal-open":""}`,children:[e.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{onClick:()=>n(!1),children:"close"})})]})},Ee=({model:t,id:s})=>{const{setContentModal:n}=P(),r=async()=>{try{const{data:c}=await ae.get("/api/"+t+"/"+s);return console.log(c),c}catch{}},{data:a,isLoading:l}=me({queryKey:["fetchSingleData"+t+s],queryFn:r,enabled:!!(t&&s)});return e.jsx(Qe,{children:l?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Details:"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>n(!1),children:e.jsx(k,{})})]}),e.jsx("div",{className:"divider"}),t=="students"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.first_name+" "+a.last_name]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Email:"})," ",a.email]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Grade:"})," ",a.grade.level]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Section:"})," ",a.section.name]})]}):null,t=="grades"?e.jsx(e.Fragment,{children:e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.level]})}):null,t=="sections"?e.jsx(e.Fragment,{children:e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.name]})}):null]})})},Me=()=>{var g;const{selectedMenu:t,setMainModal:s,setContentModal:n}=P(),r=_(),a=r.getQueryData(["fetchDatastudents"]),l=r.getQueryData(["fetchDatagrades"]),c=r.getQueryData(["fetchDatasections"]),d=r.getQueryData(["fetchDataQuiz1"]),[m,o]=b.useState(null);return e.jsxs("div",{className:"overflow-x-auto",children:[t=="students"?e.jsx(we,{}):null,t=="grades"?e.jsx(Se,{}):null,t=="sections"?e.jsx(Ce,{}):null,m?e.jsx(Ee,{model:t,id:m}):null,e.jsx("div",{className:"flex justify-end",children:t!="quiz"?e.jsx("button",{className:"btn btn-sm btn-primary text-white",onClick:()=>{s(!0)},children:"Add"}):null}),e.jsxs("table",{className:"table table-xs",children:[e.jsxs("thead",{children:[t=="students"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Grade"}),e.jsx("th",{children:"Section"}),e.jsx("th",{})]}):null,t=="grades"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Level"}),e.jsx("th",{})]}):null,t=="sections"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{})]}):null,t=="quiz"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Score"})]}):null]}),e.jsxs("tbody",{children:[t=="students"?e.jsx(e.Fragment,{children:a.map((i,f)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:f+1}),e.jsx("td",{children:i.first_name+" "+i.last_name}),e.jsxs("td",{children:[" ",i.email]}),e.jsxs("td",{children:[" ",i.grade.level]}),e.jsxs("td",{children:[" ",i.section.name]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{o(i.id),n(!0)},children:"view"})})]},i.id))}):null,t=="grades"?e.jsx(e.Fragment,{children:l.map((i,f)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:f+1}),e.jsxs("td",{children:[" ",i.level]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{o(i.id),n(!0)},children:"view"})})]},i.id))}):null,t=="sections"?e.jsx(e.Fragment,{children:c.map((i,f)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:f+1}),e.jsxs("td",{children:[" ",i.name]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{o(i.id),n(!0)},children:"view"})})]},i.id))}):null,t=="quiz"?e.jsx(e.Fragment,{children:(g=d.scores)==null?void 0:g.map((i,f)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:f+1}),e.jsx("td",{children:i.student.first_name+" "+i.student.last_name}),e.jsxs("td",{children:[i.score,"/",d.questions_count]})]},i.id))}):null]})]})]})},_e=Me;export{Ne as G,_e as T,qe as u};
