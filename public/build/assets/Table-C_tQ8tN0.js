var Z=t=>{throw TypeError(t)};var A=(t,s,n)=>s.has(t)||Z("Cannot "+n);var f=(t,s,n)=>(A(t,s,"read from private field"),n?n.call(t):s.get(t)),C=(t,s,n)=>s.has(t)?Z("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,n),N=(t,s,n,r)=>(A(t,s,"write to private field"),r?r.call(t,n):s.set(t,n),n),Q=(t,s,n)=>(A(t,s,"access private method"),n);import{S as ce,n as T,d as oe,e as _,r as p,U as M,u as P,j as e,_ as k,c as ue}from"./app-DRahhTOi.js";import{Q as se,a as de,b as he,e as me,c as fe,d as xe,s as J,f as V,w as be,g as pe,h as je,u as ge}from"./useResponsive-DhR9zQhV.js";function X(t,s){return t.filter(n=>!s.includes(n))}function ye(t,s,n){const r=t.slice(0);return r[s]=n,r}var E,O,R,g,D,q,F,y,ne,$,K,U,te,ve=(te=class extends ce{constructor(s,n,r){super();C(this,y);C(this,E);C(this,O);C(this,R);C(this,g);C(this,D);C(this,q);C(this,F);N(this,E,s),N(this,R,[]),N(this,g,[]),N(this,O,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&f(this,g).forEach(s=>{s.subscribe(n=>{Q(this,y,K).call(this,s,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,f(this,g).forEach(s=>{s.destroy()})}setQueries(s,n,r){N(this,R,s),T.batch(()=>{const a=f(this,g),l=Q(this,y,$).call(this,f(this,R));l.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions,r));const i=l.map(h=>h.observer),u=i.map(h=>h.getCurrentResult()),x=i.some((h,w)=>h!==a[w]);a.length===i.length&&!x||(N(this,g,i),N(this,O,u),this.hasListeners()&&(X(a,i).forEach(h=>{h.destroy()}),X(i,a).forEach(h=>{h.subscribe(w=>{Q(this,y,K).call(this,h,w)})}),Q(this,y,U).call(this)))})}getCurrentResult(){return f(this,O)}getQueries(){return f(this,g).map(s=>s.getCurrentQuery())}getObservers(){return f(this,g)}getOptimisticResult(s,n){const r=Q(this,y,$).call(this,s),a=r.map(l=>l.observer.getOptimisticResult(l.defaultedQueryOptions));return[a,l=>Q(this,y,ne).call(this,l??a,n),()=>r.map((l,i)=>{const u=a[i];return l.defaultedQueryOptions.notifyOnChangeProps?u:l.observer.trackResult(u,x=>{r.forEach(h=>{h.observer.trackProp(x)})})})]}},E=new WeakMap,O=new WeakMap,R=new WeakMap,g=new WeakMap,D=new WeakMap,q=new WeakMap,F=new WeakMap,y=new WeakSet,ne=function(s,n){return n?((!f(this,D)||f(this,O)!==f(this,F)||n!==f(this,q))&&(N(this,q,n),N(this,F,f(this,O)),N(this,D,oe(f(this,D),n(s)))),f(this,D)):s},$=function(s){const n=f(this,g),r=new Map(n.map(d=>[d.options.queryHash,d])),a=s.map(d=>f(this,E).defaultQueryOptions(d)),l=a.flatMap(d=>{const j=r.get(d.queryHash);return j!=null?[{defaultedQueryOptions:d,observer:j}]:[]}),i=new Set(l.map(d=>d.defaultedQueryOptions.queryHash)),u=a.filter(d=>!i.has(d.queryHash)),x=d=>{const j=f(this,E).defaultQueryOptions(d);return f(this,g).find(m=>m.options.queryHash===j.queryHash)??new se(f(this,E),j)},h=u.map(d=>({defaultedQueryOptions:d,observer:x(d)})),w=(d,j)=>a.indexOf(d.defaultedQueryOptions)-a.indexOf(j.defaultedQueryOptions);return l.concat(h).sort(w)},K=function(s,n){const r=f(this,g).indexOf(s);r!==-1&&(N(this,O,ye(f(this,O),r,n)),Q(this,y,U).call(this))},U=function(){T.batch(()=>{this.listeners.forEach(s=>{s(f(this,O))})})},te);function ze({queries:t,...s},n){const r=_(),a=de(),l=he(),i=p.useMemo(()=>t.map(m=>{const c=r.defaultQueryOptions(m);return c._optimisticResults=a?"isRestoring":"optimistic",c}),[t,r,a]);i.forEach(m=>{me(m),fe(m,l)}),xe(l);const[u]=p.useState(()=>new ve(r,i,s)),[x,h,w]=u.getOptimisticResult(i,s.combine);p.useSyncExternalStore(p.useCallback(m=>a?()=>{}:u.subscribe(T.batchCalls(m)),[u,a]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),p.useEffect(()=>{u.setQueries(i,s,{listeners:!1})},[i,s,u]);const j=x.some((m,c)=>J(i[c],m))?x.flatMap((m,c)=>{const b=i[c];if(b){const I=new se(r,b);if(J(b,m))return V(b,I,l);be(m,a)&&V(b,I,l)}return[]}):[];if(j.length>0)throw Promise.all(j);const v=x.find((m,c)=>{const b=i[c];return b&&pe({result:m,errorResetBoundary:l,throwOnError:b.throwOnError,query:r.getQueryCache().get(b.queryHash)})});if(v!=null&&v.error)throw v.error;return h(w())}var re={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Y=M.createContext&&M.createContext(re),Ne=["attr","size","title"];function we(t,s){if(t==null)return{};var n=Oe(t,s),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oe(t,s){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L(){return L=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L.apply(this,arguments)}function ee(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ee(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,s,n){return s=Ce(s),s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function Ce(t){var s=Qe(t,"string");return typeof s=="symbol"?s:s+""}function Qe(t,s){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,s||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function ae(t){return t&&t.map((s,n)=>M.createElement(s.tag,z({key:n},s.attr),ae(s.child)))}function Ee(t){return s=>M.createElement(De,L({attr:z({},t.attr)},s),ae(t.child))}function De(t){var s=n=>{var{attr:r,size:a,title:l}=t,i=we(t,Ne),u=a||n.size||"1em",x;return n.className&&(x=n.className),t.className&&(x=(x?x+" ":"")+t.className),M.createElement("svg",L({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:x,style:z(z({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&M.createElement("title",null,l),t.children)};return Y!==void 0?M.createElement(Y.Consumer,null,n=>s(n)):s(re)}function B(t){return Ee({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}const W=({children:t})=>{const{mainModal:s,setMainModal:n}=P();return e.jsxs("dialog",{className:`modal ${s?"modal-open":""}`,children:[e.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{onClick:()=>n(!1),children:"close"})})]})},Me=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=p.useState(""),[a,l]=p.useState(""),[i,u]=p.useState(""),[x,h]=p.useState(""),[w,d]=p.useState(""),[j,v]=p.useState(""),[m,c]=p.useState("single"),[b,I]=p.useState("single"),G=s.getQueryData(["fetchDatagrades"]),H=s.getQueryData(["fetchDatasections"]),le=async o=>{o.preventDefault();try{const{data:S}=await axios.post("/api/students",{studentFirstName:n,studentLastName:a,studentEmailName:i,studentPasswordName:x,gradeId:w,sectionId:j});S&&(r(""),l(""),u(""),h(""),d(""),v(""),s.invalidateQueries({queryKey:["fetchDatastudents"]}),t(!1)),k.success(S.message)}catch(S){console.error(S)}},ie=async o=>{o.preventDefault();try{const{data:S}=await axios.post("/api/studentsBatch",{studentBatchData:b},{headers:{"Content-Type":"multipart/form-data"}});S&&(k.success(S.message),o.target.reset(),t(!1),s.invalidateQueries({queryKey:["fetchDatastudents"]}))}catch(S){console.error(S)}};return e.jsxs(W,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Student"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(B,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{role:"tablist",className:"tabs tabs-boxed",children:[e.jsx("div",{role:"tab",onClick:()=>c("single"),className:`tab ${m=="single"?"tab-active":""}`,children:"Single"}),e.jsx("div",{role:"tab",onClick:()=>c("batch"),className:`tab ${m=="batch"?"tab-active":""}`,children:"Batch"})]}),m=="single"?e.jsxs("form",{onSubmit:le,children:[e.jsx("input",{name:"studentFirstName",type:"text",placeholder:"First Name",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:o=>r(o.target.value)}),e.jsx("input",{name:"studentLastName",type:"text",placeholder:"Last Name",className:"input input-bordered w-full bg-transparent my-1",value:a,onChange:o=>l(o.target.value)}),e.jsx("input",{name:"studentEmailName",type:"text",placeholder:"Email",className:"input input-bordered w-full bg-transparent my-1",value:i,onChange:o=>u(o.target.value)}),e.jsx("input",{name:"studentPasswordName",type:"password",placeholder:"Password",className:"input input-bordered w-full bg-transparent my-1",value:x,onChange:o=>h(o.target.value)}),e.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:o=>d(o.target.value),children:[e.jsx("option",{value:"",children:"--Grade--"}),G==null?void 0:G.map(o=>e.jsx("option",{value:o.id,children:o.level},o.level))]}),e.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:o=>v(o.target.value),children:[e.jsx("option",{value:"",children:"--Section--"}),H==null?void 0:H.map(o=>e.jsx("option",{value:o.id,children:o.name},o.name))]}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]}):null,m=="batch"?e.jsxs("form",{onSubmit:ie,children:[e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{htmlFor:"fileInput",className:"block text-sm font-medium text-gray-700",children:"Upload File"}),e.jsx("input",{type:"file",id:"fileInput",name:"fileInput",className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100",onChange:o=>I(o.target.files[0])})]}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Submit"})]}):null]})},Pe=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=p.useState(""),a=async l=>{l.preventDefault();try{const{data:i}=await axios.post("/api/sections",{sectionName:n});i&&(r(""),s.invalidateQueries({queryKey:["fetchDatasections"]}),t(!1)),k.success(i.message)}catch(i){console.error(i)}};return e.jsxs(W,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Section"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(B,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:a,children:[e.jsx("input",{name:"setSectionName",type:"text",placeholder:"Section Name",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:l=>r(l.target.value)}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Re=()=>{const{setMainModal:t}=P(),s=_(),[n,r]=p.useState(""),a=async l=>{l.preventDefault();try{const{data:i}=await axios.post("/api/grades",{gradeId:n});i&&(r(""),s.invalidateQueries({queryKey:["fetchDatagrades"]}),t(!1)),k.success(i.message)}catch(i){console.error(i)}};return e.jsxs(W,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl",children:"Add Grade"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:e.jsx(B,{})})]}),e.jsx("div",{className:"divider"}),e.jsxs("form",{onSubmit:a,children:[e.jsx("input",{name:"setGradeId",type:"text",placeholder:"Grade",className:"input input-bordered w-full bg-transparent my-1",value:n,onChange:l=>r(l.target.value)}),e.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},qe=({children:t})=>{const{contentModal:s,setContentModal:n}=P();return e.jsxs("dialog",{className:`modal ${s?"modal-open":""}`,children:[e.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),e.jsx("form",{method:"dialog",className:"modal-backdrop",children:e.jsx("button",{onClick:()=>n(!1),children:"close"})})]})},Fe=({model:t,id:s})=>{const{setContentModal:n}=P(),r=async()=>{try{const{data:i}=await ue.get("/api/"+t+"/"+s);return console.log(i),i}catch{}},{data:a,isLoading:l}=je({queryKey:["fetchSingleData"+t+s],queryFn:r,enabled:!!(t&&s)});return e.jsx(qe,{children:l?e.jsx(e.Fragment,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Details:"}),e.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>n(!1),children:e.jsx(B,{})})]}),e.jsx("div",{className:"divider"}),t=="students"?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.first_name+" "+a.last_name]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Email:"})," ",a.email]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Grade:"})," ",a.grade.level]}),e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Section:"})," ",a.section.name]})]}):null,t=="grades"?e.jsx(e.Fragment,{children:e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.level]})}):null,t=="sections"?e.jsx(e.Fragment,{children:e.jsxs("p",{className:"justify",children:[" ",e.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.name]})}):null]})})},_e=()=>{var m;const{selectedMenu:t,setMainModal:s,setContentModal:n,setSelectedMenu:r}=P(),{isSmallScreen:a,isMediumScreen:l,isLargeScreen:i}=ge(),u=_(),x=u.getQueryData(["fetchDatastudents"]),h=u.getQueryData(["fetchDatagrades"]),w=u.getQueryData(["fetchDatasections"]),d=u.getQueryData(["fetchDataQuiz1"]),[j,v]=p.useState(null);return e.jsxs("div",{className:"overflow-x-auto",children:[t=="students"?e.jsx(Me,{}):null,t=="grades"?e.jsx(Re,{}):null,t=="sections"?e.jsx(Pe,{}):null,j?e.jsx(Fe,{model:t,id:j}):null,e.jsx("div",{className:`flex ${a?"justify-between gap-2":"justify-end"}`,children:t!="quiz"?e.jsxs(e.Fragment,{children:[a?e.jsxs("select",{className:"select select-sm select-bordered bg-white w-full text-xs",onChange:c=>r(c.target.value),children:[e.jsx("option",{value:"students",children:"Student"}),e.jsx("option",{value:"grades",children:"Grade"}),e.jsx("option",{value:"sections",children:"Section"})]}):null,e.jsx("button",{className:"btn btn-sm btn-primary text-white",onClick:()=>{s(!0)},children:"Add"})]}):null}),e.jsx("div",{className:"h-[50vh] overflow-y-auto my-2",children:e.jsxs("table",{className:"table table-xs  rounded-t-md",children:[e.jsxs("thead",{className:"sticky top-0 bg-slate-400 shadow-lg text-white",children:[t=="students"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Grade"}),e.jsx("th",{children:"Section"}),e.jsx("th",{})]}):null,t=="grades"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Level"}),e.jsx("th",{})]}):null,t=="sections"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{})]}):null,t=="quiz"?e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Score"})]}):null]}),e.jsxs("tbody",{children:[t=="students"?e.jsx(e.Fragment,{children:x.map((c,b)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:b+1}),e.jsx("td",{children:c.first_name+" "+c.last_name}),e.jsxs("td",{children:[" ",c.email]}),e.jsxs("td",{children:[" ",c.grade.level]}),e.jsxs("td",{children:[" ",c.section.name]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{v(c.id),n(!0)},children:"view"})})]},c.id))}):null,t=="grades"?e.jsx(e.Fragment,{children:h.map((c,b)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:b+1}),e.jsxs("td",{children:[" ",c.level]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{v(c.id),n(!0)},children:"view"})})]},c.id))}):null,t=="sections"?e.jsx(e.Fragment,{children:w.map((c,b)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:b+1}),e.jsxs("td",{children:[" ",c.name]}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{v(c.id),n(!0)},children:"view"})})]},c.id))}):null,t=="quiz"?e.jsx(e.Fragment,{children:(m=d.scores)==null?void 0:m.map((c,b)=>e.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[e.jsx("th",{children:b+1}),e.jsx("td",{children:c.student.first_name+" "+c.student.last_name}),e.jsxs("td",{children:[c.score,"/",d.questions_count]})]},c.id))}):null]})]})})]})},Be=_e;export{Ee as G,Be as T,ze as u};
