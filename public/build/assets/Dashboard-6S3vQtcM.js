var Qe=t=>{throw TypeError(t)};var le=(t,e,s)=>e.has(t)||Qe("Cannot "+s);var a=(t,e,s)=>(le(t,e,"read from private field"),s?s.call(t):e.get(t)),y=(t,e,s)=>e.has(t)?Qe("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),m=(t,e,s,n)=>(le(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),g=(t,e,s)=>(le(t,e,"access private method"),s);import{S as ke,r as F,s as oe,b as te,n as Xe,i as De,c as Me,t as et,f as tt,d as st,e as Pe,g as Y,h as rt,k as j,u as $,U as B,l as _,j as r,m as nt,Y as at}from"./app-BuU-uBoX.js";import{_ as Oe,S as it}from"./index-BODpmchN.js";import{A as lt}from"./AuthenticatedLayout-E8HiTnQQ.js";import"./ApplicationLogo-D2BP0naj.js";import"./transition-dfZqF_XY.js";var R,f,Z,S,q,G,P,J,H,z,T,U,L,K,b,V,ce,ue,he,de,fe,me,pe,Ae,Te,Ne=(Te=class extends ke{constructor(e,s){super();y(this,b);y(this,R);y(this,f);y(this,Z);y(this,S);y(this,q);y(this,G);y(this,P);y(this,J);y(this,H);y(this,z);y(this,T);y(this,U);y(this,L);y(this,K,new Set);this.options=s,m(this,R,e),m(this,P,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(a(this,f).addObserver(this),Fe(a(this,f),this.options)?g(this,b,V).call(this):this.updateResult(),g(this,b,de).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return be(a(this,f),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return be(a(this,f),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,g(this,b,fe).call(this),g(this,b,me).call(this),a(this,f).removeObserver(this)}setOptions(e,s){const n=this.options,l=a(this,f);if(this.options=a(this,R).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof F(this.options.enabled,a(this,f))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");g(this,b,pe).call(this),a(this,f).setOptions(this.options),n._defaulted&&!oe(this.options,n)&&a(this,R).getQueryCache().notify({type:"observerOptionsUpdated",query:a(this,f),observer:this});const o=this.hasListeners();o&&Ie(a(this,f),l,this.options,n)&&g(this,b,V).call(this),this.updateResult(s),o&&(a(this,f)!==l||F(this.options.enabled,a(this,f))!==F(n.enabled,a(this,f))||te(this.options.staleTime,a(this,f))!==te(n.staleTime,a(this,f)))&&g(this,b,ce).call(this);const i=g(this,b,ue).call(this);o&&(a(this,f)!==l||F(this.options.enabled,a(this,f))!==F(n.enabled,a(this,f))||i!==a(this,L))&&g(this,b,he).call(this,i)}getOptimisticResult(e){const s=a(this,R).getQueryCache().build(a(this,R),e),n=this.createResult(s,e);return ct(this,n)&&(m(this,S,n),m(this,G,this.options),m(this,q,a(this,f).state)),n}getCurrentResult(){return a(this,S)}trackResult(e,s){const n={};return Object.keys(e).forEach(l=>{Object.defineProperty(n,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),s==null||s(l),e[l])})}),n}trackProp(e){a(this,K).add(e)}getCurrentQuery(){return a(this,f)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=a(this,R).defaultQueryOptions(e),n=a(this,R).getQueryCache().build(a(this,R),s);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,s))}fetch(e){return g(this,b,V).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),a(this,S)))}createResult(e,s){var Ee;const n=a(this,f),l=this.options,o=a(this,S),i=a(this,q),h=a(this,G),c=e!==n?e.state:a(this,Z),{state:p}=e;let u={...p},w=!1,O;if(s._optimisticResults){const D=this.hasListeners(),ie=!D&&Fe(e,s),Je=D&&Ie(e,n,s,l);(ie||Je)&&(u={...u,...st(p.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:C,status:N}=u;if(s.select&&u.data!==void 0)if(o&&u.data===(i==null?void 0:i.data)&&s.select===a(this,J))O=a(this,H);else try{m(this,J,s.select),O=s.select(u.data),O=Pe(o==null?void 0:o.data,O,s),m(this,H,O),m(this,P,null)}catch(D){m(this,P,D)}else O=u.data;if(s.placeholderData!==void 0&&O===void 0&&N==="pending"){let D;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))D=o.data;else if(D=typeof s.placeholderData=="function"?s.placeholderData((Ee=a(this,z))==null?void 0:Ee.state.data,a(this,z)):s.placeholderData,s.select&&D!==void 0)try{D=s.select(D),m(this,P,null)}catch(ie){m(this,P,ie)}D!==void 0&&(N="success",O=Pe(o==null?void 0:o.data,D,s),w=!0)}a(this,P)&&(v=a(this,P),O=a(this,H),C=Date.now(),N="error");const x=u.fetchStatus==="fetching",I=N==="pending",ae=N==="error",Se=I&&x,Re=O!==void 0;return{status:N,fetchStatus:u.fetchStatus,isPending:I,isSuccess:N==="success",isError:ae,isInitialLoading:Se,isLoading:Se,data:O,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:C,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!I,isLoadingError:ae&&!Re,isPaused:u.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:ae&&Re,isStale:we(e,s),refetch:this.refetch}}updateResult(e){const s=a(this,S),n=this.createResult(a(this,f),this.options);if(m(this,q,a(this,f).state),m(this,G,this.options),a(this,q).data!==void 0&&m(this,z,a(this,f)),oe(n,s))return;m(this,S,n);const l={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,h=typeof i=="function"?i():i;if(h==="all"||!h&&!a(this,K).size)return!0;const d=new Set(h??a(this,K));return this.options.throwOnError&&d.add("error"),Object.keys(a(this,S)).some(c=>{const p=c;return a(this,S)[p]!==s[p]&&d.has(p)})};(e==null?void 0:e.listeners)!==!1&&o()&&(l.listeners=!0),g(this,b,Ae).call(this,{...l,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&g(this,b,de).call(this)}},R=new WeakMap,f=new WeakMap,Z=new WeakMap,S=new WeakMap,q=new WeakMap,G=new WeakMap,P=new WeakMap,J=new WeakMap,H=new WeakMap,z=new WeakMap,T=new WeakMap,U=new WeakMap,L=new WeakMap,K=new WeakMap,b=new WeakSet,V=function(e){g(this,b,pe).call(this);let s=a(this,f).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Xe)),s},ce=function(){g(this,b,fe).call(this);const e=te(this.options.staleTime,a(this,f));if(De||a(this,S).isStale||!Me(e))return;const n=et(a(this,S).dataUpdatedAt,e)+1;m(this,T,setTimeout(()=>{a(this,S).isStale||this.updateResult()},n))},ue=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(a(this,f)):this.options.refetchInterval)??!1},he=function(e){g(this,b,me).call(this),m(this,L,e),!(De||F(this.options.enabled,a(this,f))===!1||!Me(a(this,L))||a(this,L)===0)&&m(this,U,setInterval(()=>{(this.options.refetchIntervalInBackground||tt.isFocused())&&g(this,b,V).call(this)},a(this,L)))},de=function(){g(this,b,ce).call(this),g(this,b,he).call(this,g(this,b,ue).call(this))},fe=function(){a(this,T)&&(clearTimeout(a(this,T)),m(this,T,void 0))},me=function(){a(this,U)&&(clearInterval(a(this,U)),m(this,U,void 0))},pe=function(){const e=a(this,R).getQueryCache().build(a(this,R),this.options);if(e===a(this,f))return;const s=a(this,f);m(this,f,e),m(this,Z,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ae=function(e){Y.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(a(this,S))}),a(this,R).getQueryCache().notify({query:a(this,f),type:"observerResultsUpdated"})})},Te);function ot(t,e){return F(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Fe(t,e){return ot(t,e)||t.state.data!==void 0&&be(t,e,e.refetchOnMount)}function be(t,e,s){if(F(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&we(t,e)}return!1}function Ie(t,e,s,n){return(t!==e||F(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&we(t,s)}function we(t,e){return F(e.enabled,t)!==!1&&t.isStaleByTime(te(e.staleTime,t))}function ct(t,e){return!oe(t.getCurrentResult(),e)}function Le(t,e){return t.filter(s=>!e.includes(s))}function ut(t,e,s){const n=t.slice(0);return n[e]=s,n}var k,M,W,E,A,X,ee,Q,Be,xe,ge,ve,Ue,ht=(Ue=class extends ke{constructor(e,s,n){super();y(this,Q);y(this,k);y(this,M);y(this,W);y(this,E);y(this,A);y(this,X);y(this,ee);m(this,k,e),m(this,W,[]),m(this,E,[]),m(this,M,[]),this.setQueries(s)}onSubscribe(){this.listeners.size===1&&a(this,E).forEach(e=>{e.subscribe(s=>{g(this,Q,ge).call(this,e,s)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,a(this,E).forEach(e=>{e.destroy()})}setQueries(e,s,n){m(this,W,e),Y.batch(()=>{const l=a(this,E),o=g(this,Q,xe).call(this,a(this,W));o.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,n));const i=o.map(c=>c.observer),h=i.map(c=>c.getCurrentResult()),d=i.some((c,p)=>c!==l[p]);l.length===i.length&&!d||(m(this,E,i),m(this,M,h),this.hasListeners()&&(Le(l,i).forEach(c=>{c.destroy()}),Le(i,l).forEach(c=>{c.subscribe(p=>{g(this,Q,ge).call(this,c,p)})}),g(this,Q,ve).call(this)))})}getCurrentResult(){return a(this,M)}getQueries(){return a(this,E).map(e=>e.getCurrentQuery())}getObservers(){return a(this,E)}getOptimisticResult(e,s){const n=g(this,Q,xe).call(this,e),l=n.map(o=>o.observer.getOptimisticResult(o.defaultedQueryOptions));return[l,o=>g(this,Q,Be).call(this,o??l,s),()=>n.map((o,i)=>{const h=l[i];return o.defaultedQueryOptions.notifyOnChangeProps?h:o.observer.trackResult(h,d=>{n.forEach(c=>{c.observer.trackProp(d)})})})]}},k=new WeakMap,M=new WeakMap,W=new WeakMap,E=new WeakMap,A=new WeakMap,X=new WeakMap,ee=new WeakMap,Q=new WeakSet,Be=function(e,s){return s?((!a(this,A)||a(this,M)!==a(this,ee)||s!==a(this,X))&&(m(this,X,s),m(this,ee,a(this,M)),m(this,A,rt(a(this,A),s(e)))),a(this,A)):e},xe=function(e){const s=a(this,E),n=new Map(s.map(u=>[u.options.queryHash,u])),l=e.map(u=>a(this,k).defaultQueryOptions(u)),o=l.flatMap(u=>{const w=n.get(u.queryHash);return w!=null?[{defaultedQueryOptions:u,observer:w}]:[]}),i=new Set(o.map(u=>u.defaultedQueryOptions.queryHash)),h=l.filter(u=>!i.has(u.queryHash)),d=u=>{const w=a(this,k).defaultQueryOptions(u);return a(this,E).find(v=>v.options.queryHash===w.queryHash)??new Ne(a(this,k),w)},c=h.map(u=>({defaultedQueryOptions:u,observer:d(u)})),p=(u,w)=>l.indexOf(u.defaultedQueryOptions)-l.indexOf(w.defaultedQueryOptions);return o.concat(c).sort(p)},ge=function(e,s){const n=a(this,E).indexOf(e);n!==-1&&(m(this,M,ut(a(this,M),n,s)),g(this,Q,ve).call(this))},ve=function(){Y.batch(()=>{this.listeners.forEach(e=>{e(a(this,M))})})},Ue),Ge=j.createContext(!1),He=()=>j.useContext(Ge);Ge.Provider;function dt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var ft=j.createContext(dt()),ze=()=>j.useContext(ft);function mt(t,e){return typeof t=="function"?t(...e):!!t}var Ke=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},We=t=>{j.useEffect(()=>{t.clearReset()},[t])},$e=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&mt(s,[t.error,n]),Ve=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},pt=(t,e)=>t.isLoading&&t.isFetching&&!e,ye=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,je=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function bt({queries:t,...e},s){const n=$(),l=He(),o=ze(),i=j.useMemo(()=>t.map(v=>{const C=n.defaultQueryOptions(v);return C._optimisticResults=l?"isRestoring":"optimistic",C}),[t,n,l]);i.forEach(v=>{Ve(v),Ke(v,o)}),We(o);const[h]=j.useState(()=>new ht(n,i,e)),[d,c,p]=h.getOptimisticResult(i,e.combine);j.useSyncExternalStore(j.useCallback(v=>l?()=>{}:h.subscribe(Y.batchCalls(v)),[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setQueries(i,e,{listeners:!1})},[i,e,h]);const w=d.some((v,C)=>ye(i[C],v))?d.flatMap((v,C)=>{const N=i[C];if(N){const x=new Ne(n,N);if(ye(N,v))return je(N,x,o);pt(v,l)&&je(N,x,o)}return[]}):[];if(w.length>0)throw Promise.all(w);const O=d.find((v,C)=>{const N=i[C];return N&&$e({result:v,errorResetBoundary:o,throwOnError:N.throwOnError,query:n.getQueryCache().get(N.queryHash)})});if(O!=null&&O.error)throw O.error;return c(p())}function xt(t,e,s){var c,p,u,w;const n=$(),l=He(),o=ze(),i=n.defaultQueryOptions(t);(p=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||p.call(c,i),i._optimisticResults=l?"isRestoring":"optimistic",Ve(i),Ke(i,o),We(o);const[h]=j.useState(()=>new e(n,i)),d=h.getOptimisticResult(i);if(j.useSyncExternalStore(j.useCallback(O=>{const v=l?()=>{}:h.subscribe(Y.batchCalls(O));return h.updateResult(),v},[h,l]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),j.useEffect(()=>{h.setOptions(i,{listeners:!1})},[i,h]),ye(i,d))throw je(i,h,o);if($e({result:d,errorResetBoundary:o,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw d.error;return(w=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||w.call(u,i,d),i.notifyOnChangeProps?d:h.trackResult(d)}function gt(t,e){return xt(t,Ne)}var Ye={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_e=B.createContext&&B.createContext(Ye),vt=["attr","size","title"];function yt(t,e){if(t==null)return{};var s=jt(t,e),n,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(l=0;l<o.length;l++)n=o[l],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function jt(t,e){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;s[n]=t[n]}return s}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},se.apply(this,arguments)}function qe(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,n)}return s}function re(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?qe(Object(s),!0).forEach(function(n){Ot(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):qe(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ot(t,e,s){return e=Nt(e),e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Nt(t){var e=wt(t,"string");return typeof e=="symbol"?e:e+""}function wt(t,e){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ze(t){return t&&t.map((e,s)=>B.createElement(e.tag,re({key:s},e.attr),Ze(e.child)))}function Ct(t){return e=>B.createElement(St,se({attr:re({},t.attr)},e),Ze(t.child))}function St(t){var e=s=>{var{attr:n,size:l,title:o}=t,i=yt(t,vt),h=l||s.size||"1em",d;return s.className&&(d=s.className),t.className&&(d=(d?d+" ":"")+t.className),B.createElement("svg",se({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,i,{className:d,style:re(re({color:t.color||s.color},s.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&B.createElement("title",null,o),t.children)};return _e!==void 0?B.createElement(_e.Consumer,null,s=>e(s)):e(Ye)}function ne(t){return Ct({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(t)}const Ce=({children:t})=>{const{mainModal:e,setMainModal:s}=_();return r.jsxs("dialog",{className:`modal ${e?"modal-open":""}`,children:[r.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),r.jsx("form",{method:"dialog",className:"modal-backdrop",children:r.jsx("button",{onClick:()=>s(!1),children:"close"})})]})},Rt=()=>{const{setMainModal:t}=_(),e=$(),[s,n]=j.useState(""),[l,o]=j.useState(""),[i,h]=j.useState(""),[d,c]=j.useState(""),[p,u]=j.useState(""),[w,O]=j.useState(""),v=e.getQueryData(["fetchDatagrades"]),C=e.getQueryData(["fetchDatasections"]),N=async x=>{x.preventDefault();try{const{data:I}=await axios.post("/api/students",{studentFirstName:s,studentLastName:l,studentEmailName:i,studentPasswordName:d,gradeId:p,sectionId:w});I&&(n(""),o(""),h(""),c(""),u(""),O(""),e.invalidateQueries({queryKey:["fetchDatastudents"]}),t(!1)),Oe.success(I.message)}catch(I){console.error(I)}};return r.jsxs(Ce,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Student"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:N,children:[r.jsx("input",{name:"studentFirstName",type:"text",placeholder:"First Name",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:x=>n(x.target.value)}),r.jsx("input",{name:"studentLastName",type:"text",placeholder:"Last Name",className:"input input-bordered w-full bg-transparent my-1",value:l,onChange:x=>o(x.target.value)}),r.jsx("input",{name:"studentEmailName",type:"text",placeholder:"Email",className:"input input-bordered w-full bg-transparent my-1",value:i,onChange:x=>h(x.target.value)}),r.jsx("input",{name:"studentPasswordName",type:"password",placeholder:"Password",className:"input input-bordered w-full bg-transparent my-1",value:d,onChange:x=>c(x.target.value)}),r.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:x=>u(x.target.value),children:[r.jsx("option",{value:"",children:"--Grade--"}),v==null?void 0:v.map(x=>r.jsx("option",{value:x.id,children:x.level},x.level))]}),r.jsxs("select",{className:"select select-bordered w-full bg-transparent my-1",onChange:x=>O(x.target.value),children:[r.jsx("option",{value:"",children:"--Section--"}),C==null?void 0:C.map(x=>r.jsx("option",{value:x.id,children:x.name},x.name))]}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Et=()=>{const{setMainModal:t}=_(),e=$(),[s,n]=j.useState(""),l=async o=>{o.preventDefault();try{const{data:i}=await axios.post("/api/sections",{sectionName:s});i&&(n(""),e.invalidateQueries({queryKey:["fetchDatasections"]}),t(!1)),Oe.success(i.message)}catch(i){console.error(i)}};return r.jsxs(Ce,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Section"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:l,children:[r.jsx("input",{name:"setSectionName",type:"text",placeholder:"Section Name",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:o=>n(o.target.value)}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Qt=()=>{const{setMainModal:t}=_(),e=$(),[s,n]=j.useState(""),l=async o=>{o.preventDefault();try{const{data:i}=await axios.post("/api/grades",{gradeId:s});i&&(n(""),e.invalidateQueries({queryKey:["fetchDatagrades"]}),t(!1)),Oe.success(i.message)}catch(i){console.error(i)}};return r.jsxs(Ce,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"text-xl",children:"Add Grade"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>t(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),r.jsxs("form",{onSubmit:l,children:[r.jsx("input",{name:"setGradeId",type:"text",placeholder:"Grade",className:"input input-bordered w-full bg-transparent my-1",value:s,onChange:o=>n(o.target.value)}),r.jsx("button",{className:"btn btn-primary w-full text-white mt-10",children:"Create"})]})]})},Dt=({children:t})=>{const{contentModal:e,setContentModal:s}=_();return r.jsxs("dialog",{className:`modal ${e?"modal-open":""}`,children:[r.jsx("div",{className:"modal-box bg-white w-11/12",children:t}),r.jsx("form",{method:"dialog",className:"modal-backdrop",children:r.jsx("button",{onClick:()=>s(!1),children:"close"})})]})},Mt=({model:t,id:e})=>{const{setContentModal:s}=_(),n=async()=>{try{const{data:i}=await nt.get("/api/"+t+"/"+e);return console.log(i),i}catch{}},{data:l,isLoading:o}=gt({queryKey:["fetchSingleData"+t+e],queryFn:n,enabled:!!(t&&e)});return r.jsx(Dt,{children:o?r.jsx(r.Fragment,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h1",{className:"font-bold text-2xl",children:"Details:"}),r.jsx("button",{className:"btn btn-xs btn-error",onClick:()=>s(!1),children:r.jsx(ne,{})})]}),r.jsx("div",{className:"divider"}),t=="students"?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.first_name+" "+l.last_name]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Email:"})," ",l.email]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Grade:"})," ",l.grade.level]}),r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Section:"})," ",l.section.name]})]}):null,t=="grades"?r.jsx(r.Fragment,{children:r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.level]})}):null,t=="sections"?r.jsx(r.Fragment,{children:r.jsxs("p",{className:"justify",children:[" ",r.jsx("span",{className:"font-semibold",children:"Name:"})," ",l.name]})}):null]})})},Pt=()=>{const{selectedMenu:t,setMainModal:e,setContentModal:s}=_(),n=$(),l=n.getQueryData(["fetchDatastudents"]),o=n.getQueryData(["fetchDatagrades"]),i=n.getQueryData(["fetchDatasections"]),[h,d]=j.useState(null);return r.jsxs("div",{className:"overflow-x-auto",children:[t=="students"?r.jsx(Rt,{}):null,t=="grades"?r.jsx(Qt,{}):null,t=="sections"?r.jsx(Et,{}):null,h?r.jsx(Mt,{model:t,id:h}):null,r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{className:"btn btn-sm btn-primary text-white",onClick:()=>{e(!0)},children:"Add"})}),r.jsxs("table",{className:"table table-xs",children:[r.jsxs("thead",{children:[t=="students"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Name"}),r.jsx("th",{children:"Email"}),r.jsx("th",{children:"Grade"}),r.jsx("th",{children:"Section"}),r.jsx("th",{})]}):null,t=="grades"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Level"}),r.jsx("th",{})]}):null,t=="sections"?r.jsxs("tr",{children:[r.jsx("th",{}),r.jsx("th",{children:"Name"}),r.jsx("th",{})]}):null]}),r.jsxs("tbody",{children:[t=="students"?r.jsx(r.Fragment,{children:l.map((c,p)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:p+1}),r.jsx("td",{children:c.first_name+" "+c.last_name}),r.jsxs("td",{children:[" ",c.email]}),r.jsxs("td",{children:[" ",c.grade.level]}),r.jsxs("td",{children:[" ",c.section.name]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(c.id),s(!0)},children:"view"})})]},c.id))}):null,t=="grades"?r.jsx(r.Fragment,{children:o.map((c,p)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:p+1}),r.jsxs("td",{children:[" ",c.level]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(c.id),s(!0)},children:"view"})})]},c.id))}):null,t=="sections"?r.jsx(r.Fragment,{children:i.map((c,p)=>r.jsxs("tr",{className:"hover:bg-slate-300 transition-all duration-300 ease-in-out",children:[r.jsx("th",{children:p+1}),r.jsxs("td",{children:[" ",c.name]}),r.jsx("td",{children:r.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{d(c.id),s(!0)},children:"view"})})]},c.id))}):null]})]})]})},Ft=Pt;function At({auth:t}){var d;const{selectedMenu:e}=_(),s=[{name:"students"},{name:"grades"},{name:"sections"}],n=async c=>{try{const{data:p}=await axios.get("/api/"+c);return console.log(p),p.data}catch(p){console.error(p)}},l=bt({queries:s.map(c=>({queryKey:["fetchData"+c.name],queryFn:()=>n(c.name)}))}),o=l.some(c=>c.isLoading),i=l.some(c=>c.isError),h=((d=l.find(c=>c.data))==null?void 0:d.data)||[];return r.jsxs(lt,{user:t.user,header:r.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Dashboard"}),children:[r.jsx(at,{title:"Dashboard"}),r.jsx("div",{className:"py-12",children:r.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:r.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:r.jsxs("div",{className:"p-6 text-gray-900",children:[r.jsx("h1",{className:"font-bold text-2xl uppercase",children:e}),r.jsx("div",{className:"divider"}),r.jsxs("div",{className:"flex gap-10",children:[r.jsx(it,{items:s}),r.jsx("div",{className:"overflow-x-auto flex-1",children:o?r.jsx("p",{children:"Loading..."}):i?r.jsx("p",{children:"Error loading data."}):r.jsx(Ft,{data:h})})]})]})})})})]})}export{At as default};
